<% content_for :title, "Changelog" %>

<section class="md:w-2/3 w-full mx-auto">
    <h1 class="mb-6 text-center">What's New?</h1>
    <div class="text-center">Your Opinion Matters. Check the
    <a href="https://github.com/users/valasek/projects/2/views/1?layout=board" class="link">Roadmap</a>
    or <%= link_to "Leave a Feedback", "https://forms.gle/rMP5FwtpPDMgSn337", class: "link" %>.</div>
    <% @changelog_entries.each_with_index do |entry, index| %>
        <div class="collapse collapse-arrow bg-base-100 border border-base-300 mt-8">
            <input type="radio" name="my-accordion-1" <%= "checked" if index == 0 %> />
            <div class="collapse-title font-semibold text-xl">Version <%= entry[:version] %> <span class="badge text-sm font-normal"><%= entry[:date] %></span></div>
            <div class="collapse-content text-sm">
                <div class="p-4">
                    <% entry[:changes].each do |category, items| %>
                        <div class="mb-4">
                            <h4 class="text-gray-700 mb-2"><%= category %></h4>
                            <ul class="list-disc list-inside space-y-1">
                                <% items.each do |item| %>
                                    <li class="text-sm text-gray-600"><%= item %></li>
                                <% end %>
                            </ul>
                        </div>
                    <% end %>
                </div>    
            </div>
        </div>
    <% end %>
</section>
