<div class="w-full">
  <% content_for :title, "Clients" %>
  
  <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6">
    <div class="flex items-center gap-4">
      <%= link_to new_client_path, class: "btn btn-primary" do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
        </svg>
        New client
      <% end %>
      <div class="badge badge-neutral badge-outline">
        Total: <%= @clients_count %>
      </div>
    </div>
    
    <h1>Clients</h1>
    
    <div class="w-full lg:w-auto lg:min-w-80">
      <%= form_with url: clients_path, method: :get, class: "w-full", data: { controller: "search-client", turbo_frame: "clients-list" } do |f| %>
        <%= f.text_field :query,
                        value: params[:query],
                        placeholder: "Search by name or email...",
                        class: "input input-bordered w-full",
                        data: {
                            action: "input->search-client#search",
                            search_client_target: "input"
                        } %>
      <% end %>
    </div>
  </div>

  <div id="clients">
    <% if @clients.any? %>
      <%= turbo_frame_tag "clients-list" do %>
        <div class="space-y-4">
          <% @clients.each do |client| %>
            <%= render "client_card", client: client, sessions: client.sessions %>
          <% end %>
        </div>
        <div class="flex justify-center mt-8">
          <%= paginate @clients %>
        </div>
      <% end %>
    <% else %>
      <div class="hero min-h-96">
        <div class="hero-content text-center">
          <div class="max-w-md">
            <p class="text-lg mb-6">Create your first client</p>
            <%= link_to new_client_path, class: "btn btn-primary btn-lg" do %>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
              </svg>
              New
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>