<div class="w-full">
  <% content_for :title, "Clients" %>
  <header class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Your clients</h1>
    <span class="badge badge-outline badge-neutral">
      Total: <%= @clients_count %>
    </span>
    <div class="flex items-center space-x-4 mt-4 sm:mt-0">
      <%= form_with url: clients_path, method: :get, class: "flex-grow", data: { controller: "search-client", turbo_frame: "clients-list" } do |f| %>
        <%= f.text_field :query,
                        value: params[:query],
                        placeholder: "Search by name or email...",
                        class: "w-full shadow rounded-md border border-gray-400 py-1.5 px-3 text-gray-900 placeholder:text-gray-400 sm:text-sm sm:leading-6 mr-4",
                        data: {
                            action: "input->search-client#search",
                            search_client_target: "input"
                        } %>
      <% end %>
    <%= link_to new_client_path, class: "btn btn-primary" do %>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 inline">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
      </svg>
      New
    <% end %>
  </header>

  <div id="clients" class="min-w-full divide-y divide-gray-200 space-y-5">
    <% if @clients.any? %>
      <%= turbo_frame_tag "clients-list" do %>
        <div class="space-y-2">
          <% @clients.each do |client| %>
            <%= render "client_card", client: client, sessions: client.sessions %>
          <% end %>
        </div>
         <%= paginate @clients %>
      <% end %>
    <% else %>
      <p class="my-10">Create your first client
        <%= link_to new_client_path, class: "ml-4 btn btn-primary" do %>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 inline">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
          </svg>
          New
        <% end %>
      </p>
    <% end %>
  </div>
</div>
